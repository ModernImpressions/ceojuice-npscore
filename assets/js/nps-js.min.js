(function(){function t(){b=document.querySelectorAll(".scoreGauge"),k=window.innerHeight}function e(){for(var t=0;t<b.length;t++){var e=b[t],a=b[t].getBoundingClientRect().top;e.classList.contains("played")||a-k<=0&&(e.classList.add("fade-in-element"),e.classList.add("in-view"),e.classList.remove("hidden"),f.animateOn(d,L),e.classList.add("played"))}}var a,n,r,s,i,d,c,o,l,h,u,p,g,f,m,M,v,w,L,y,A,I,P,C,O,R,b,k,x;for(L=initVal/100,i=40,m=5,P=1/m/2,M=.05,c=10,R=.75,l=d3.select(".chart-gauge"),g={top:20,right:20,bottom:30,left:20},x=l[0][0].offsetWidth-g.left-g.right,u=x/2,y=Math.min(x,u),v=function(t){return 360*t},w=function(t){return o(v(t))},o=function(t){return t*Math.PI/180},O=l.append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMinYMin meet"),d=O.append("g").attr("transform",`translate(${(x+g.left+g.right)/2}, ${u+g.top+g.bottom-20})`),I=p=1,A=m;1<=A?p<=A:p>=A;I=1<=A?++p:--p)s=w(R),r=s+w(P),R+=P,C=0===I?0:M/2,h=I===m?0:M/2,n=d3.svg.arc().outerRadius(y-c).innerRadius(y-c-i).startAngle(s+C).endAngle(r-h),d.append("path").attr("class",`arc chart-color${I}`).attr("d",n);a=class{constructor(t,e){this.len=t,this.radius=e}drawOn(t,e){return t.append("circle").attr("class","needle-center").attr("cx",0).attr("cy",0).attr("r",this.radius),t.append("path").attr("class","needle").attr("d",this.mkCmd(e))}animateOn(t,e){var a;return a=this,t.transition().delay(500).ease("elastic").duration(6e3).selectAll(".needle").tween("progress",function(){return function(t){var n;return n=t*e,d3.select(this).attr("d",a.mkCmd(n))}})}mkCmd(t){var e,a,n,r,s,i,d,c,o;return d=w(t/2),e=0,a=0,c=e-this.len*Math.cos(d),o=a-this.len*Math.sin(d),n=e-this.radius*Math.cos(d-Math.PI/2),r=a-this.radius*Math.sin(d-Math.PI/2),s=e-this.radius*Math.cos(d+Math.PI/2),i=a-this.radius*Math.sin(d+Math.PI/2),`M ${n} ${r} L ${c} ${o} L ${s} ${i}`}},$(".scoreGauge").attr("style",`height: ${u+g.top+g.bottom}px;`),f=new a(x/2-10,10),f.drawOn(d,0),window.addEventListener("scroll",e),window.addEventListener("resize",t),t(),e()}).call(this);