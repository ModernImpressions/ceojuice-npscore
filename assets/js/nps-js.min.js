(function(){var t,a,r,e,n,s,i,h,c,d,o,l,u,p,M,g,m,f,v,w,I,P,A,O,b,k,x;for(v=initVal/100,n=40,M=5,A=1/M/2,g=.05,i=10,k=.75,c=d3.select(".chart-gauge"),u={top:20,right:20,bottom:30,left:20},x=c[0][0].offsetWidth-u.left-u.right,o=x/2,w=Math.min(x,o),m=function(t){return 360*t},f=function(t){return h(m(t))},h=function(t){return t*Math.PI/180},b=c.append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMinYMin meet"),s=b.append("g").attr("transform",`translate(${(x+u.left+u.right)/2}, ${o+u.top+u.bottom-20})`),P=l=1,I=M;1<=I?l<=I:l>=I;P=1<=I?++l:--l)e=f(k),r=e+f(A),k+=A,O=0===P?0:g/2,d=P===M?0:g/2,a=d3.svg.arc().outerRadius(w-i).innerRadius(w-i-n).startAngle(e+O).endAngle(r-d),s.append("path").attr("class",`arc chart-color${P}`).attr("d",a);t=class{constructor(t,a){this.len=t,this.radius=a}drawOn(t,a){return t.append("circle").attr("class","needle-center").attr("cx",0).attr("cy",0).attr("r",this.radius),t.append("path").attr("class","needle").attr("d",this.mkCmd(a))}animateOn(t,a){var r;return r=this,t.transition().delay(500).ease("elastic").duration(3e3).selectAll(".needle").tween("progress",function(){return function(t){var e;return e=t*a,d3.select(this).attr("d",r.mkCmd(e))}})}mkCmd(t){var a,r,e,n,s,i,h,c,d;return h=f(t/2),a=0,r=0,c=a-this.len*Math.cos(h),d=r-this.len*Math.sin(h),e=a-this.radius*Math.cos(h-Math.PI/2),n=r-this.radius*Math.sin(h-Math.PI/2),s=a-this.radius*Math.cos(h+Math.PI/2),i=r-this.radius*Math.sin(h+Math.PI/2),`M ${e} ${n} L ${c} ${d} L ${s} ${i}`}},p=new t(180,10),p.drawOn(s,0),p.animateOn(s,v),$(".scoreGauge").attr("style",`height: ${o+u.top+u.bottom}px;`)}).call(this);