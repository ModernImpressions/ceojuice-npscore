(function(){function t(){b=document.querySelectorAll(".scoreGauge"),k=window.innerHeight}function e(){for(var t=0;t<b.length;t++){var e=b[t],a=b[t].getBoundingClientRect().top;a-k<=0&&(e.classList.add("fade-in-element"),e.classList.add("in-view"),e.classList.remove("hidden"),f.animateOn(d,L))}}var a,r,n,i,s,d,o,c,h,l,u,p,g,f,m,M,v,w,L,A,I,P,y,C,O,R,b,k,x;for(L=initVal/100,s=40,m=5,y=1/m/2,M=.05,o=10,R=.75,h=d3.select(".chart-gauge"),g={top:20,right:20,bottom:30,left:20},x=h[0][0].offsetWidth-g.left-g.right,u=x/2,A=Math.min(x,u),v=function(t){return 360*t},w=function(t){return c(v(t))},c=function(t){return t*Math.PI/180},O=h.append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMinYMin meet"),d=O.append("g").attr("transform",`translate(${(x+g.left+g.right)/2}, ${u+g.top+g.bottom-20})`),P=p=1,I=m;1<=I?p<=I:p>=I;P=1<=I?++p:--p)i=w(R),n=i+w(y),R+=y,C=0===P?0:M/2,l=P===m?0:M/2,r=d3.svg.arc().outerRadius(A-o).innerRadius(A-o-s).startAngle(i+C).endAngle(n-l),d.append("path").attr("class",`arc chart-color${P}`).attr("d",r);a=class{constructor(t,e){this.len=t,this.radius=e}drawOn(t,e){return t.append("circle").attr("class","needle-center").attr("cx",0).attr("cy",0).attr("r",this.radius),t.append("path").attr("class","needle").attr("d",this.mkCmd(e))}animateOn(t,e){var a;return a=this,t.transition().delay(500).ease("elastic").duration(6e3).selectAll(".needle").tween("progress",function(){return function(t){var r;return r=t*e,d3.select(this).attr("d",a.mkCmd(r))}})}mkCmd(t){var e,a,r,n,i,s,d,o,c;return d=w(t/2),e=0,a=0,o=e-this.len*Math.cos(d),c=a-this.len*Math.sin(d),r=e-this.radius*Math.cos(d-Math.PI/2),n=a-this.radius*Math.sin(d-Math.PI/2),i=e-this.radius*Math.cos(d+Math.PI/2),s=a-this.radius*Math.sin(d+Math.PI/2),`M ${r} ${n} L ${o} ${c} L ${i} ${s}`}},$(".scoreGauge").attr("style",`height: ${u+g.top+g.bottom}px;`),f=new a(x/2-10,10),f.drawOn(d,0),window.addEventListener("scroll",e),window.addEventListener("resize",t),t(),e()}).call(this);