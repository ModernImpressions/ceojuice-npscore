(function(){function t(){R=document.querySelectorAll(".scoreGauge"),k=window.innerHeight}function e(){for(var t=0;t<R.length;t++){var e=R[t],a=R[t].getBoundingClientRect().top;e.classList.contains("played")||a-k<=0&&(e.classList.add("fade-in-element"),e.classList.add("in-view"),e.classList.remove("hidden"),f.animateOn(d,L),e.classList.add("played"))}}var a,n,r,s,i,d,o,c,l,h,u,p,g,f,m,w,M,v,L,y,A,I,O,P,b,C,R,k,x;for(L=initVal/100,i=40,m=5,O=1/m/2,w=.05,o=10,C=.75,l=d3.select(".chart-gauge"),g={top:20,right:20,bottom:30,left:20},x=l[0][0].offsetWidth-g.left-g.right,u=x/2,y=Math.min(x,u),M=function(t){return 360*t},v=function(t){return c(M(t))},c=function(t){return t*Math.PI/180},b=l.append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMinYMin meet"),d=b.append("g").attr("transform",`translate(${(x+g.left+g.right)/2}, ${u+g.top+g.bottom-20})`),I=p=1,A=m;1<=A?p<=A:p>=A;I=1<=A?++p:--p)s=v(C),r=s+v(O),C+=O,P=0===I?0:w/2,h=I===m?0:w/2,n=d3.svg.arc().outerRadius(y-o).innerRadius(y-o-i).startAngle(s+P).endAngle(r-h),d.append("path").attr("class",`arc chart-color${I}`).attr("d",n);a=class{constructor(t,e){this.len=t,this.radius=e}drawOn(t,e){return t.append("circle").attr("class","needle-center").attr("cx",0).attr("cy",0).attr("r",this.radius),t.append("path").attr("class","needle").attr("d",this.mkCmd(e))}animateOn(t,e){var a;return a=this,t.transition().delay(500).ease("bounce").duration(6e3).selectAll(".needle").tween("progress",function(){return function(t){var n;return n=t*e,d3.select(this).attr("d",a.mkCmd(n))}})}mkCmd(t){var e,a,n,r,s,i,d,o,c;return d=v(t/2),e=0,a=0,o=e-this.len*Math.cos(d),c=a-this.len*Math.sin(d),n=e-this.radius*Math.cos(d-Math.PI/2),r=a-this.radius*Math.sin(d-Math.PI/2),s=e-this.radius*Math.cos(d+Math.PI/2),i=a-this.radius*Math.sin(d+Math.PI/2),`M ${n} ${r} L ${o} ${c} L ${s} ${i}`}},$(".scoreGauge").attr("style",`height: ${u+g.top+g.bottom}px;`),f=new a(x/2-10,10),f.drawOn(d,0),window.addEventListener("scroll",e),window.addEventListener("resize",t),window.addEventListener("resize",a.drawOn(d,0)),t(),e()}).call(this);